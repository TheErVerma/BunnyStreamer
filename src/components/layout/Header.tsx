'use client'

import Image from "next/image";
import Link from "next/link";
import { Button } from "../ui/Button";
import { ThemeToggle } from "../ui/ThemeToggle";
import { useTheme } from 'next-themes'
import { useEffect, useState } from "react";

export function Header() {
    const { resolvedTheme } = useTheme();
    const [mounted, setMounted] = useState(false);

    useEffect(() => {
        setMounted(true);
    }, []);

    if (!mounted) return null;

    return <>
        <header className="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700">
            <div className="w-full px-5 py-4">
                <div className="flex justify-between">
                    <div className="flex gap-[22px] items-center">
                        <button className="custom-icon-transition">
                            <svg width="22" height="19" viewBox="0 0 24 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M0.799988 2.50002C0.799988 2.07568 0.968559 1.66871 1.26862 1.36865C1.56868 1.0686 1.97564 0.900024 2.39999 0.900024H21.6C22.0243 0.900024 22.4313 1.0686 22.7314 1.36865C23.0314 1.66871 23.2 2.07568 23.2 2.50002C23.2 2.92437 23.0314 3.33134 22.7314 3.6314C22.4313 3.93145 22.0243 4.10002 21.6 4.10002H2.39999C1.97564 4.10002 1.56868 3.93145 1.26862 3.6314C0.968559 3.33134 0.799988 2.92437 0.799988 2.50002ZM0.799988 10.5C0.799988 10.0757 0.968559 9.66871 1.26862 9.36865C1.56868 9.0686 1.97564 8.90002 2.39999 8.90002H21.6C22.0243 8.90002 22.4313 9.0686 22.7314 9.36865C23.0314 9.66871 23.2 10.0757 23.2 10.5C23.2 10.9244 23.0314 11.3313 22.7314 11.6314C22.4313 11.9315 22.0243 12.1 21.6 12.1H2.39999C1.97564 12.1 1.56868 11.9315 1.26862 11.6314C0.968559 11.3313 0.799988 10.9244 0.799988 10.5ZM0.799988 18.5C0.799988 18.0757 0.968559 17.6687 1.26862 17.3687C1.56868 17.0686 1.97564 16.9 2.39999 16.9H12C12.4243 16.9 12.8313 17.0686 13.1314 17.3687C13.4314 17.6687 13.6 18.0757 13.6 18.5C13.6 18.9244 13.4314 19.3313 13.1314 19.6314C12.8313 19.9315 12.4243 20.1 12 20.1H2.39999C1.97564 20.1 1.56868 19.9315 1.26862 19.6314C0.968559 19.3313 0.799988 18.9244 0.799988 18.5Z" fill="currentColor" />
                            </svg>

                        </button>

                        {
                            resolvedTheme == 'dark' ?
                                (
                                    <Link href="/">
                                        <Image src="/logo-white.svg" alt="Site Logo" width={70} height={20} priority />
                                    </Link>
                                ) : (
                                    <Link href="/">
                                        <Image src="/logo-dark.svg" alt="Site Logo" width={70} height={20} priority />
                                    </Link>
                                )
                        }

                    </div>
                    <div className="flex gap-3 items-center">

                        <Button type="submit">
                            <svg width="16" height="16" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M8 4.5C8.21217 4.5 8.41566 4.58429 8.56569 4.73431C8.71571 4.88434 8.8 5.08783 8.8 5.3V7.7H11.2C11.4122 7.7 11.6157 7.78429 11.7657 7.93431C11.9157 8.08434 12 8.28783 12 8.5C12 8.71217 11.9157 8.91566 11.7657 9.06569C11.6157 9.21571 11.4122 9.3 11.2 9.3H8.8V11.7C8.8 11.9122 8.71571 12.1157 8.56569 12.2657C8.41566 12.4157 8.21217 12.5 8 12.5C7.78783 12.5 7.58434 12.4157 7.43431 12.2657C7.28429 12.1157 7.2 11.9122 7.2 11.7V9.3H4.8C4.58783 9.3 4.38434 9.21571 4.23431 9.06569C4.08429 8.91566 4 8.71217 4 8.5C4 8.28783 4.08429 8.08434 4.23431 7.93431C4.38434 7.78429 4.58783 7.7 4.8 7.7H7.2V5.3C7.2 5.08783 7.28429 4.88434 7.43431 4.73431C7.58434 4.58429 7.78783 4.5 8 4.5Z" fill="currentColor" />
                            </svg>
                            New Post
                        </Button>

                        <ThemeToggle></ThemeToggle>

                        <button className="custom-icon-transition">
                            <svg width="24" height="24" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M9.60002 5.29997C8.32698 5.29997 7.10609 5.80568 6.20591 6.70585C5.30574 7.60603 4.80002 8.82693 4.80002 10.1C4.80002 11.373 5.30574 12.5939 6.20591 13.4941C7.10609 14.3943 8.32698 14.9 9.60002 14.9C10.8731 14.9 12.094 14.3943 12.9941 13.4941C13.8943 12.5939 14.4 11.373 14.4 10.1C14.4 8.82693 13.8943 7.60603 12.9941 6.70585C12.094 5.80568 10.8731 5.29997 9.60002 5.29997ZM2.40002 10.1C2.39988 8.96681 2.6672 7.84962 3.18023 6.83926C3.69326 5.82889 4.43753 4.95388 5.3525 4.2854C6.26747 3.61691 7.3273 3.17382 8.4458 2.99217C9.5643 2.81051 10.7099 2.89542 11.7894 3.23999C12.8689 3.58455 13.8518 4.17905 14.6582 4.97512C15.4646 5.7712 16.0718 6.74637 16.4302 7.82133C16.7887 8.89629 16.8884 10.0407 16.7212 11.1614C16.554 12.2822 16.1246 13.3476 15.468 14.2712L21.2484 20.0516C21.467 20.2779 21.588 20.581 21.5852 20.8956C21.5825 21.2103 21.4563 21.5113 21.2338 21.7338C21.0113 21.9562 20.7103 22.0824 20.3957 22.0852C20.0811 22.0879 19.7779 21.967 19.5516 21.7484L13.7724 15.9692C12.6953 16.7351 11.428 17.1898 10.1096 17.2833C8.79123 17.3769 7.47251 17.1057 6.29798 16.4995C5.12346 15.8934 4.13845 14.9756 3.45089 13.8468C2.76334 12.718 2.39977 11.4217 2.40002 10.1Z" fill="currentColor" />
                            </svg>
                        </button>

                        <button className="custom-icon-transition">
                            <svg width="24" height="24" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2.90002C10.0905 2.90002 8.25912 3.65859 6.90886 5.00886C5.55859 6.35912 4.80002 8.19047 4.80002 10.1V14.4032L3.95163 15.2516C3.78385 15.4194 3.66961 15.6332 3.62332 15.866C3.57704 16.0987 3.60081 16.34 3.69161 16.5592C3.78242 16.7785 3.93618 16.9658 4.13347 17.0977C4.33077 17.2296 4.56272 17.3 4.80002 17.3H19.2C19.4373 17.3 19.6693 17.2296 19.8666 17.0977C20.0639 16.9658 20.2176 16.7785 20.3084 16.5592C20.3992 16.34 20.423 16.0987 20.3767 15.866C20.3304 15.6332 20.2162 15.4194 20.0484 15.2516L19.2 14.4032V10.1C19.2 8.19047 18.4415 6.35912 17.0912 5.00886C15.7409 3.65859 13.9096 2.90002 12 2.90002ZM12 22.1C11.0452 22.1 10.1296 21.7207 9.45444 21.0456C8.77931 20.3705 8.40002 19.4548 8.40002 18.5H15.6C15.6 19.4548 15.2207 20.3705 14.5456 21.0456C13.8705 21.7207 12.9548 22.1 12 22.1Z" fill="currentColor" />
                            </svg>
                        </button>

                        <button className="flex rounded-full hover:ring-4 focus:ring-4 focus:outline-none hover:ring-gray-200 focus:ring-gray-200 dark:hover:ring-gray-600 dark:focus:ring-gray-600 transition duration-300">
                            <Image className="rounded-full object-cover" src="/user-static.jpg" alt="user" width={32} height={32} priority />
                        </button>

                    </div>
                </div>
            </div>
        </header>
    </>
}
